(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[8],{132:function(e,t,r){"use strict";var n=r(137),a=r(4),c=function(e){var t=e.variant,r=e.children;return Object(a.jsx)(n.a,{variant:t,children:r})};c.defaultProps={variant:"info"},t.a=c},133:function(e,t,r){"use strict";var n=r(79),a=r(4);t.a=function(e){var t=e.children,r=e.type,c=e.onClick,s=e.variant,i=e.className,o=e.size,d=e.href,l=e.disabled,u=e.as;return Object(a.jsx)(n.a,{type:r,variant:s,className:i,onClick:c,size:o,href:d,disabled:l,as:u,children:t})}},135:function(e,t,r){"use strict";var n=r(139),a=r(4);t.a=function(e){var t=e.type,r=e.placeholder,c=e.value,s=e.onChange,i=e.label,o=e.name,d=(e.required,e.controlId),l=e.children;return Object(a.jsxs)(n.a.Group,{controlId:d,children:[l,Object(a.jsx)(n.a.Control,{name:o,label:i,type:t,placeholder:r,value:c,onChange:s,required:!0})]})}},141:function(e,t,r){"use strict";r.d(t,"a",(function(){return l})),r.d(t,"b",(function(){return u})),r.d(t,"d",(function(){return p})),r.d(t,"c",(function(){return j}));var n=r(17),a=r.n(n),c=r(26),s=r(11),i=r(27),o=r.n(i),d=r(34),l=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(r,n){var c,i,l,u,p;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:s.f}),c=n(),i=c.userLogin.userInfo,l={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(i.token)}},t.next=6,o.a.post("http://localhost:5000/api/orders",e,l);case 6:u=t.sent,p=u.data,r({type:s.h,payload:p}),r({type:d.c,payload:p}),localStorage.removeItem("cartItems"),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),r({type:s.e,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e,r){return t.apply(this,arguments)}}()},u=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(r,n){var c,i,d,l,u,p;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:s.j}),c=n(),i=c.userLogin.userInfo,d={headers:{Authorization:"Bearer ".concat(i.token)}},t.next=6,o.a.get("http://localhost:5000/api/orders/".concat(e),d);case 6:l=t.sent,u=l.data,r({type:s.k,payload:u}),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(0),p=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message,r({type:s.i,payload:p});case 16:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()},p=function(e,t){return function(){var r=Object(c.a)(a.a.mark((function r(n,c){var i,d,l,u,p;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n({type:s.m}),i=c(),d=i.userLogin.userInfo,l={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(d.token)}},r.next=6,o.a.put("http://localhost:5000/api/orders/".concat(e,"/pay"),t,l);case 6:u=r.sent,p=u.data,n({type:s.o,payload:p}),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),n({type:s.l,payload:r.t0.response&&r.t0.response.data.message?r.t0.response.data.message:r.t0.message});case 14:case"end":return r.stop()}}),r,null,[[0,11]])})));return function(e,t){return r.apply(this,arguments)}}()},j=function(){return function(){var e=Object(c.a)(a.a.mark((function e(t,r){var n,c,i,d,l;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:s.b}),n=r(),c=n.userLogin.userInfo,i={headers:{Authorization:"Bearer ".concat(c.token)}},e.next=6,o.a.get("http://localhost:5000/api/orders/myorders",i);case 6:d=e.sent,l=d.data,t({type:s.d,payload:l}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:s.a,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}()}},155:function(e,t,r){"use strict";r.r(t);var n=r(134),a=r(1),c=r(21),s=r(49),i=r(127),o=r(121),d=r(139),l=r(149),u=r(31),p=r(132),j=r(141),h=r(57),b=r(135),f=r(133),O=r(58),x=r(4);t.default=function(e){var t=e.location,r=e.history,v=e.match.params.id,m=Object(a.useState)(""),y=Object(n.a)(m,2),g=y[0],k=y[1],I=Object(a.useState)(""),w=Object(n.a)(I,2),A=w[0],C=w[1],D=Object(a.useState)(""),L=Object(n.a)(D,2),E=L[0],S=(L[1],t.search&&t.search.split("=")[1],Object(u.b)()),z=Object(u.c)((function(e){return e.userDetails})),P=Object(u.c)((function(e){return e.userLogin})),T=Object(u.c)((function(e){return e.myOrders})),B=T.orders,N=T.loading,_=T.error,q=P.userInfo,J=z.loading,G=z.error,H=z.user;return Object(a.useEffect)((function(){q?H.name?(k(H.name),C(H.email)):(S(Object(O.b)("profile")),S(Object(j.c)())):r.push("/login")}),[r,q,H,S]),Object(x.jsxs)(i.a,{children:[Object(x.jsxs)(o.a,{md:3,children:[Object(x.jsx)("h2",{children:"User Profile"}),E&&Object(x.jsx)(p.a,{variant:"danger",children:E}),G&&Object(x.jsx)(p.a,{variant:"danger",children:G}),J&&Object(x.jsx)(h.a,{}),Object(x.jsxs)(d.a,{onSubmit:function(e){console.log("Submit Handler"),S(Object(O.b)(v))},children:[Object(x.jsx)(b.a,{type:"text",placeholder:"Enter name",value:g,onChange:function(e){e.preventDefault(),k(e.target.value)},children:Object(x.jsx)(d.a.Label,{children:"Name"})}),Object(x.jsx)(b.a,{type:"text",placeholder:"Enter email",value:A,onChange:function(e){e.preventDefault(),C(e.target.value)},children:Object(x.jsx)(d.a.Label,{children:"Email"})}),Object(x.jsx)(f.a,{variant:"primary",children:"Submit"})]})]}),Object(x.jsxs)(o.a,{md:9,children:[Object(x.jsx)("h2",{children:"My Orders"}),N?Object(x.jsx)(h.a,{}):_?Object(x.jsx)(p.a,{variant:"warning",children:_}):Object(x.jsxs)(l.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm",children:[Object(x.jsx)("thead",{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"ID"}),Object(x.jsx)("th",{children:"DATE"}),Object(x.jsx)("th",{children:"TOTAL"}),Object(x.jsx)("th",{children:"PAID"}),Object(x.jsx)("th",{children:"DELIVERED"})]})}),Object(x.jsx)("tbody",{children:B?B.map((function(e){return Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:e._id}),Object(x.jsx)("td",{children:e.createdAt.substring(0,10)}),Object(x.jsx)("td",{children:e.totalPrice}),Object(x.jsx)("td",{children:e.isPaid?e.paidAt.substring(0,10):Object(x.jsx)(s.f,{})}),Object(x.jsx)("td",{children:e.isDelivered?e.deliveredAt.substring(0,10):Object(x.jsx)(s.f,{style:{color:"red"}})}),Object(x.jsx)("td",{children:Object(x.jsx)(c.LinkContainer,{to:"/order/".concat(e._id),children:Object(x.jsx)(f.a,{variant:"light",children:"Details"})})})]},e._id)})):" Searching Orders"})]})]})]})}}}]);
//# sourceMappingURL=ProfileScreen.6c475342.chunk.js.map